select * from main_search_view msv 
create view main_search_view as
select 
		a.hi_seq, 
		a.hi_mi_seq,
		a.hi_type,
        cc.cc_content as country,
        csd.csd_seq as cate_place,
        hai.hai_city as city,
        hai.hai_detail as address,
        hfi.hfi_base_price as price,
        round(rpv.total_avg*100)/100 as total_avg,
        himg.himg_file as main_img,
		hgi.hgi_guest as guest,
		hgi.hgi_dog as dog,
		hgi.hgi_bed as bed,
		hgi.hgi_bedroom as bedroom,
		hgi.hgi_bathroom as bathroom,
		IF(mi.mi_host_grade=2,1,0) as super_host
from house_info a
left join house_address_info hai on a.hi_hai_seq = hai.hai_seq 
left join category_country cc  on hai.hai_cc_seq = cc.cc_seq
left join category_sort_detail csd  on a.hi_csd_seq = csd.csd_seq 
left join category_sort cs on csd.csd_cs_seq = cs.cs_seq 
left join house_guest_info hgi on a.hi_hgi_seq = hgi.hgi_seq
left join house_fee_info hfi on a.hi_hfi_seq = hfi.hfi_seq 
left join 
	(select * from house_img where himg_main=1
	group by himg_hi_seq)himg
on a.hi_seq = himg.himg_hi_seq
left join rev_point_view rpv on a.hi_seq = rpv.rpv_hi_seq 
left join member_info mi on a.hi_mi_seq = mi.mi_seq